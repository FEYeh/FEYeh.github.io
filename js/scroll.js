$(function(){var t=0;function e(t){$(t).velocity("stop").velocity("scroll",{duration:500,easing:"easeInOutQuart"})}function i(t){t.velocity("stop").velocity("transition.fadeIn",{duration:500,easing:"easeInQuart"})}$(".toc-child").hide(),$(window).scroll(throttle(function(e){var o=$(this).scrollTop();isMobile()||(function(t){var e=$("#content-outer").height(),i=$(window).height(),o=e>i?e-i:$(document).height()-i,a=t/o,n=Math.round(100*a),s=n>100?100:n;$(".progress-num").text(s),$(".sidebar-toc__progress-bar").velocity("stop").velocity({width:s+"%"},{duration:100,easing:"easeInOutQuart"})}(o),function(t){if(0===$(".toc-link").length)return!1;t<200&&($(".toc-link").removeClass("active"),$(".toc-child").hide());var e="";$("#post-content").find("h1,h2,h3,h4,h5,h6").each(function(){var i=$(this);t>i.offset().top-25&&(e="#"+$(this).attr("id"))});var o=$(".toc-link.active");if(e&&o.attr("href")!==e){c=e,window.history.replaceState&&c!==window.location.hash&&window.history.replaceState(void 0,void 0,c),$(".toc-link").removeClass("active");var a=$('.toc-link[href="'+e+'"]');a.addClass("active");var n,s=a.parents(".toc-child");if(s.length>0)(n=s.length>1?s.eq(s.length-1).find(".toc-child"):s).length>0&&n.is(":hidden")&&i(n),s.eq(s.length-1).closest(".toc-item").siblings(".toc-item").find(".toc-child").hide();else a.closest(".toc-item").find(".toc-child").is(":hidden")&&i(a.closest(".toc-item").find(".toc-child")),a.closest(".toc-item").siblings(".toc-item").find(".toc-child").hide()}var c}(o));var a=function(e){var i=e>t;return t=e,i}(o);o>56?(a?$("#page-header").hasClass("visible")?$("#page-header").removeClass("visible"):console.log():$("#page-header").hasClass("visible")?console.log():$("#page-header").addClass("visible"),$("#page-header").addClass("fixed"),"0"===$("#go-up").css("opacity")&&$("#go-up").velocity("stop").velocity({translateX:-30,rotateZ:360,opacity:1},{easing:"easeOutQuart",duration:200})):(0===o&&$("#page-header").removeClass("fixed").removeClass("visible"),$("#go-up").velocity("stop").velocity({translateX:0,rotateZ:180,opacity:0},{easing:"linear",duration:200}))},50,100)),$("#go-up").on("click",function(){$("body").velocity("stop").velocity("scroll",{duration:500,easing:"easeOutQuart"})}),$("#post-content").find("h1,h2,h3,h4,h5,h6").on("click",function(t){e("#"+$(this).attr("id"))}),$(".toc-link").on("click",function(t){t.preventDefault(),e($(this).attr("href"))})});